# EC2

EC2는 인터넷에 연결된 가상 서버를 제공하는 서비스입니다.

## EC2를 사용하는 이유

1. 서버를 생성하는데 클릭 몇 번으로 가능하기 때문에 실제 서버를 구축하는 것보다 훨씬 간편하고 효율적입니다.
2. 사용한 만큼만 요금을 지불하면 되므로 비용을 절감할 수 있습니다.

## EC2 인스턴스

`인스턴스` : 클라우드의 가상 서버

EC2는 각 사용 사례에 맞게 최적화된 다양한 인스턴스 유형을 제공합니다. 
인스턴스 유형은 CPU, 메모리, 스토리지 및 네트워킹 용량의 다양한 조합으로 구성되며, 애플리케이션에 따라 적합한 리소스 조합을 선택할 수 있는 유연성을 제공합니다. 
각 인스턴스 유형은 하나 이상의 인스턴스 크기를 포함하고 있으므로 목표로 하는 워크로드 요구 사항까지 리소스를 확장할 수 있습니다.

* `범용` : 균형 있는 컴퓨팅, 메모리 및 네트워킹 리소스를 제공하며, 다양한 여러 워크로드에 사용할 수 있습니다. 이 인스턴스는 리소스를 동등한 비율로 사용하는 애플리케이션에 적합합니다. 
* `컴퓨팅 최적화` : `C`로 시작하는 인스턴스 유형입니다.   
고성능 프로세서를 활용하는 컴퓨팅 집약적인 애플리케이션(배치 처리 워크로드, 미디어 트랜스코딩, 고성능 웹 서버, HPC(고성능 컴퓨팅), 
과학적 모델링, 전용 게임 서버 및 광고 서버 엔진, 기계 학습 추론 등)에 적합합니다.
* `메모리 최적화`: 메모리에서 대규모 데이터 세트를 처리하는 워크로드를 위한 빠른 성능을 제공하기 위해 설계되었습니다. 다른 인스턴스 패밀리에 비해 메모리 용량이 훨씬 큽니다.
* `가속화된 컴퓨팅` : 하드웨어 액셀러레이터 또는 코프로세서를 사용하여 부동 소수점 수 계산이나 그래픽 처리, 데이터 패턴 일치 등의 기능을 
CPU에서 실행되는 소프트웨어보다 훨씬 효율적으로 수행합니다.
* `스토리지 최적화` : 로컬 스토리지에서 매우 큰 데이터 세트에 대해 많은 순차적 읽기 및 쓰기 액세스를 요구하는 워크로드를 위해 설계되었습니다.
다른 인스턴스 패밀리보다 스토리지 용량이 훨씬 크거나 지연 시간이 짧은, 수만 단위의 무작위 IOPS(초당 I/O 작업 수)를 지원하도록 최적화되었습니다.
* `마이크로 인스턴스` : 가격이 가장 싼 인스턴스입니다. 낮은 vCPU 성능과 적은 메모리를 제공합니다. `프리 티어(무료 사용 계정)`에서는 이 인스턴스 유형을 무료로 사용할 수 있습니다.

각 인스턴스의 유형에 대해 자세히 알고 싶으면 아래의 사이트를 참고하세요.   
=> [Amazon EC2 인스턴스 유형](https://aws.amazon.com/ko/ec2/instance-types/)   
![image](https://user-images.githubusercontent.com/43658658/145002923-52898f8b-81a7-4221-bdc5-22e47eb2c79d.png)

## EC2 사용 설정

`키 페어` : `프라이빗 키`와 `퍼블릭 키`로 구성되며, 인스턴스에 연결할 때 자격 증명을 증명하는 데 사용하는 `보안 자격 증명 세트`입니다.   
* Linux 인스턴스에는 암호가 없으므로 `인스턴스에 안전하게 로그인하기 위해` 키 페어를 사용합니다.
* 인스턴스를 시작할 때 `프라이빗 키`를 제공하여 SSH를 통해 로그인합니다.
* 키 페어를 아직 생성하지 않은 경우 `EC2 콘솔`을 사용하여 생성할 수 있습니다. 
* 여러 리전에서 인스턴스를 시작하려면 `각 리전`에서 키 페어를 생성해야 합니다.

> <h3>키 페어 생성</h3>

1. Amazon EC2 콘솔을 엽니다.
2. 왼쪽의 탐색 창에서 `[네트워크 및 보안] > [키 페어]`을 클릭합니다.   
![image](https://user-images.githubusercontent.com/43658658/145006173-1ce887ca-003f-4951-8544-2754f27d49b6.png)

3. `[키 페어 생성]`을 클릭합니다.   
![image](https://user-images.githubusercontent.com/43658658/145006347-bca22ef8-520b-4e1f-b25b-de2ca8d39352.png)

4. 키 페어를 생성합니다.   
![image](https://user-images.githubusercontent.com/43658658/145508671-70cec6cc-6b36-4577-9884-64a9f38b1bc6.png)   
* `RSA` vs `ED25519` : 암호 체계 유형. 과거에는 RSA를 많이 사용했으나, `ED25519`가 더 뛰어난 암호 체계라고 합니다.
  - 하지만 현재 `ED25519`는 Linux와 Mac 인스턴스에만 지원합니다. 
  - `ED25519`를 선택하면 프라이빗 키 형식은 디폴트 `pem`입니다.

5. 브라우저에서 프라이빗 키 파일을 자동으로 다운로드 받습니다.   
![image](https://user-images.githubusercontent.com/43658658/145508737-3023d386-7d73-47a3-b484-28f4cc61f019.png)

6. C드라이브에 `AWS` 폴더를 만들고 그 안에 `프라이빗 키 파일`을 저장합니다.
![image](https://user-images.githubusercontent.com/43658658/145508803-3c6d1b20-1b0b-497e-9118-71036c0d4bed.png)

> <h3>보안 그룹 생성</h3>

`보안 그룹` : 방화벽 역할. 인스턴스의 인바운드/아웃바운드 트래픽을 모두 제어합니다.

SSH를 사용하여 어떤 IP 주소가 인스턴스에 접근할 수 있도록 하는 규칙을 보안 그룹에 추가해야 합니다.

1. EC2 콘솔에서 [보안 그룹] > [보안 그룹 생성]
![image](https://user-images.githubusercontent.com/43658658/145509088-f18ce3bb-4a9b-4a52-a9ed-2b75801e0944.png)

2. 보안 그룹의 이름, 설명, VPC를 선택합니다.   
![image](https://user-images.githubusercontent.com/43658658/145509787-1b639ef2-a013-4947-b01d-4f772242a46b.png)   
* VPC는 리전의 디폴트 VPC를 선택했습니다.

3. `[규칙 추가]`를 눌러 아래와 같이 인바운드 규칙을 설정합니다.
![image](https://user-images.githubusercontent.com/43658658/145509554-34417bc1-ce65-405c-8727-84c79f4ac520.png)   
* `HTTP/HTTPS`로의 접근은 모두 허용.
* `SSH`로의 접근은 자신만 허용.

4. 아웃바운드 규칙은 모든 트래픽을 허용하도록 기본 설정을 유지합니다.
![image](https://user-images.githubusercontent.com/43658658/145509733-0883b336-5c1b-4754-b37a-27bab324dede.png)

5. [보안 그룹 생성] 버튼을 클릭해 보안 그룹을 생성합니다.
![image](https://user-images.githubusercontent.com/43658658/145509834-f8c87509-25af-48c3-88ae-5743de07aa5a.png)

## Amazon EC2 Linux 인스턴스 시작하기

EC2를 사용하여 인스턴스에서 실행되는 운영 체제와 애플리케이션을 설정하고 구성할 수 있습니다.



